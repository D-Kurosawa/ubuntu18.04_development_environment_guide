# Linuxのディレクトリ

## Linuxの主要ディレクトリ一覧

Linuxは多数のファイルとディレクトリから構成されているシステムであり、そのディレクトリ構造を押さえることは、Linuxシステムをイメージとして捉える上で非常に重要になります。

ディストリビューションによって若干の違いはありますが、**FHS**(**Filesystem Hierarchy Standard**)というディレクトリ構成規格によって統一化が図られています。

まずは下記の一覧を確認して、どのようなディレクトリがあるのか確認してください。

- [/](#root-directory)
  - [/bin](#bin)
  - [/boot](#boot)
  - [/dev](#dev)
  - [/etc](#etc)
    - /etc/opt/ optの設定ファイル
    - /etc/X11/ X Window System、 version11用の設定ファイル
    - /etc/sgml/ SGMLの設定ファイル
    - /etc/xml/ XML の設定ファイル
  - [/home](#home)
  - [/lib](#lib)
  - [/media](#media)
  - [/mnt](#mnt)
  - [/opt](#opt)
  - [/proc](#proc)
  - [/root](#root)
  - [/sbin](#sbin)
  - [/tmp](#tmp)
  - /srv システムに提供されたサイト固有のデータ
  - /usr プログラムやカーネルソース
    - /usr/bin/ /binと同じだが、基本的ではない
    - /usr/include/ 標準 includeファイル
    - /usr/lib/ /libと同類
    - /usr/sbin/ /sbinと同じだが、基本的ではない
    - /usr/share/ アーキテクチャに依存しない共有データ
    - /usr/src/ ソースコード（カーネルのソースコードとそのヘッダファイル）
    - /usr/X11R6/ X Window System, Version 11 Release 6
    - /usr/local/ ホスト固有のローカルデータを格納する第三階層
  - /var システムログなどの動的に変化するファイル
    - /var/lock/ 使用中リソースを保持するファイル
    - /var/log/ 各種ログファイル
    - /var/mail/ ユーザーのメールボックス
    - /var/run/ ブート以降の走行中システムに関する情報
    - /var/spool/ 処理待ち状態のタスクのスプール
    - /var/spool/mail/ 互換のために残された、かつてのユーザーのメールボックス
    - /var/tmp/ 一時ファイル置場 (マルチユーザーモードではこちらの使用が推奨される)

## Linuxの主要ディレクトリの説明

おさえて置くべき主要ディレクトリの説明をします。また、読み方も一緒に記載しますが、現場によっては、違う読み方があるかも知れないのでその点は注意が必要です。

### /(root-directory)

|**読み方**|**ルートディレクトリ**|
|:---|:---|
|**概要**|**最上位のディレクトリ**|

階層型ファイル構造における最上階層のディレクトリのことです。ルートディレクトリ以外のディレクトリはすべてサブディレクトリと呼ばれます。

### /bin

|**読み方**|**ビン**|
|:---|:---|
|**概要**|**一般ユーザー向けの基本コマンド**|

システム管理者(root)と一般ユーザーの両方が使う基本的なコマンドが格納されています。試しに、binディレクトリに格納されているコマンドを確認してみてください。

```bash
cd /bin
ls -l
```

`ls`、`mkdir`等の見慣れたコマンドが表示されたはずです。このような基本的なコマンドが格納されているのが`bin`ディレクトリです。

### /boot

|**読み方**|**ブート**|
|:---|:---|
|**概要**|**起動に必要なファイル**|

システム起動時に必要なファイルを格納しています。普段Linuxを使用していて、このディレクトリにあるファイルを 変更することは滅多にありません。

起動時にBIOSの制限を受けないようにするため、ルートファイルシステムとは別にディスクの先頭付近に配置されることがあります。起動に必要なファイルがあるという事だけ覚えておいてください。

### /dev

|**読み方**|**デブ**|
|:---|:---|
|**概要**|**デバイスファイル**|

デバイスファイルが保存されいるディレクトリです。Linuxでは**デバイスもファイルとして扱う**という設計思想がとられています。

これはUNIXから受け継いだ設計思想になり、プログラムを組んでデバイスを使用する場合は、普通のファイルを扱うのと同じ様に、デバイスファイルを**Open**して、**Read**、**Write**と順番に処理をして最後に**Close**するという手順でアクセスするようになっています。

しかし、`dev`ディレクトリのファイルを操作することは滅多にありません。意味も解らずに操作するとデバイスが使用できなくなってしまうので扱いには注意が必要です。

### /etc

|**読み方**|**エトセ**|
|:---|:---|
|**概要**|**設定ファイル**|

`etc`ディレクトリには**設定ファイル**が格納されています。システムに関する設定ファイルや、アプリケーションに関する設定ファイル、種類、数ともに様々ですべてを把握している人はあまりいないと思います。

代表的なものには、IPアドレスとホスト名をDNSサーバー参照なしでも名前の解決ができる**hosts**ファイルや、シェルの初期設定ファイル**profile**などがあります。

### /home

|**読み方**|**ホーム**|
|:---|:---|
|**概要**|**ユーザーのホームディレクトリ**|

各ユーザーのホームディレクトリがあるディレクトリです。ログインしたときに最初にアクセスするディレクトリは`/home/ユーザー名`になり、ユーザー名がhogefugaの場合`/home/hogefuga`となります。

また、独立したファイルシステムにすることで、クォータを設定できたり保守性を向上させたりできます。

このディレクトリで、各一般ユーザーは作業を行います。

**※ FHSではオプション扱いとなっています。**

### /lib

|**読み方**|**リブ**|
|:---|:---|
|**概要**|**共有ライブラリ**|

システムの起動時に必要なものと`/bin`や`/sbin`ディレクトリにあるコマンドを
実行するのに必要なライブラリが保存されています。

ユーザーや管理者がこの`/lib`ディレクトリに直接アクセスすることは滅多にありません。

### /media

|**読み方**|**マウント**|
|:---|:---|
|**概要**|**リムーバブル媒体(media)のマウントポイント**|

CD-ROMドライブなどのリムーバブルメディアを使用するとき（マウント）に利用するマウントポイント用ディレクトリです。

### /mnt

|**読み方**|**マウント**|
|:---|:---|
|**概要**|**ファイルシステムの一時的なマウントポイント用ディレクトリ**|

CD-ROMドライブなどのリムーバブルメディアを使用するとき（マウント）に利用するマウントポイント用ディレクトリです。

`/media`との違いは、一時的なファイルシステム(fstabなど)のマウントに使う点です。一般ユーザーが利用することはなく、root専用のディレクトリと覚えたほうがいいでしょう。

### /opt

|**読み方**|**オプト**|
|:---|:---|
|**概要**|**実行時に書き換えられないアプリケーションソフトウェアパッケージ**|

RPMやdpkgといったパッケージ管理システムでプログラムをインストールする時に使用するディレクトリです。ディストリビューションによっては配置されません。

### /proc

|**読み方**|**プロック**|
|:---|:---|
|**概要**|**カーネルやプロセスに関する情報をテキストで表示する仮想ファイルシステム**|

カーネル内部の情報にアクセスする為の仮想的なファイルシステムです。Linuxサーバーのハードウェア情報などを知るための情報ファイルが存在しています。プロセス独自の情報を格納することからプロセスディレクトリと呼ばれます。

例えば、CPU情報やメモリの使用状況、ネットワーク情報などが参照できます。

```bash
# CPU情報を参照する場合
view /proc/cpuinfo

# メモリ情報を参照する場合
view /proc/meminfo
```

但し、仮想的なファイルシステムになるため、ファイルのように見えますが、実際にはディスク上に存在しません。

### /root

|**読み方**|**ルート**|
|:---|:---|
|**概要**|**root用ホームディレクトリ**|

システム管理者(root)のホームディレクトリです。以前は`/`(ルートディレクトリ)がホームディレクトリとして使われていましたが、`/root`が使われるように変更されました。

`/home`の一般ユーザーのホームディレクトリと別になっているのは、`/home`が壊れても`/root`で作業が出来るようにという配慮からです。

**※FHSではオプション扱いとなっています。**

### /sbin

|**読み方**|**エスビン**|
|:---|:---|
|**概要**|**システム管理用コマンド**|

システム管理者(root)が使用するコマンドが格納されています。主に、起動、停止やリカバリーのようなシステム管理に必要なコマンドです。

システム停止やサービスなどのシステムに直接関係のある大切なコマンドばかり格納されているディレクトリのため、
セキュリティーの配慮として、一般ユーザーは実行できないよう権限が与えられています。

**※rootのみが実行可能になっています。**

### /tmp

|**読み方**|**テンプ**|
|:---|:---|
|**概要**|**ファイルなどを一時的に保管するディレクトリ**|

一時的にファイルを保存したり、作業したりするためのディレクトリです。**再起動などをするとこのディレクトリ内のファイルは削除されてしまいます**ので使用には注意が必要です。

大切なファイルは間違ってもtmpディレクトリに保存してはいけません。

**※テンポラリ（temporary:一時的な）からこの名前がつけられいます。**

**※すべてのユーザーが読み書き可能です。**

■ /usr　読み方(ユーザー)

|**読み方**|****|
|:---|:---|
|**概要**|****|

ユーザー向けのディレクトリで、たくさんのサブディレクトリを持っています。
代表的なものの1つに「/usr/local」ディレクトリがありますが、
これはRedhat系Linuxのパッケージ管理システムの
管理対象外で、ソースからコンパイルしたプログラムなどをここに保存するのが一般的です。

■ /usr/bin/

|**読み方**|****|
|:---|:---|
|**概要**|****|

ユーザーが一般的に使用するコマンドで、
緊急時のシステム保守に必須ではないコマンドが配置されます。

■ /usr/lib/

|**読み方**|****|
|:---|:---|
|**概要**|****|

プログラムに必要な共有ライブラリが配置されます。

■ /usr/sbin/

|**読み方**|****|
|:---|:---|
|**概要**|****|

システム管理コマンドで、
緊急時のシステム保守に必須ではないコマンドが配置されます。

■ /usr/share/

|**読み方**|****|
|:---|:---|
|**概要**|****|

x86やAlphaといったシステムアーキテクチャに依存しないファイルが
配置されます。例えば、/usr/share/manには、manコマンドで使用される
マニュアルが配置されます。

■ /usr/src/

|**読み方**|****|
|:---|:---|
|**概要**|****|

Linuxカーネルソースなどのソースコードが配置されます。

■ /usr/X11R6/

|**読み方**|****|
|:---|:---|
|**概要**|****|

XFree86（X Window System）用ファイルが配置されます。

■ /usr/local/

|**読み方**|****|
|:---|:---|
|**概要**|****|

ローカルシステムで必要とされるコマンドやライブラリ、ドキュメントなどが
配置されます。このディレクトリ内は、さらにbin、sbin、libなどに細分化されます。

■ /var　読み方(バア)

|**読み方**|****|
|:---|:---|
|**概要**|****|

このディレクトリも「tmp」と同じように一時ファイルを
保存しておくディレクトリです。しかし、ここに保存されているファイルは、
サーバーを 再起動しても削除されません。
保存されているファイルの種類は 「変化していくファイル」です。
代表的なものにはシステムログファイルやメール、
プリンタのスプールファイルがあります。
エラーの際にチェックするシステムログファイルの
「/var/log/messages」 は、この/varディレクトリに保存されています。

■ /var/cache/

|**読み方**|****|
|:---|:---|
|**概要**|****|

manコマンドで表示する為に整形したデータなど、
一時的なキャッシュファイルが配置されます。

■ /var/lock/

|**読み方**|****|
|:---|:---|
|**概要**|****|

アプリケーションが排他制御に使用するロックファイルが配置されます。

■ /var/log/

|**読み方**|****|
|:---|:---|
|**概要**|****|

ログファイルが出力されます。システムのログファイル（messages）、
メールのログファイル（maillog）などが配置されます。

■ /var/run/

|**読み方**|****|
|:---|:---|
|**概要**|****|

システムの状態を示すファイルが配置されます。
PIDを格納したファイルを参照することで、PIDの確認が行えます。

■ /var/spool/

|**読み方**|****|
|:---|:---|
|**概要**|****|

処理を待つバッファであるスプールが配置されます。
送信待ちメールや、印刷待ちデータなどになります。

非常に多くのディレクトリが登場しましたが、馴染みのある
ディレクトリから覚えようとすると、さほど苦にはならなかないと思います。

実際にそのディレクトリにアクセスしてみて、内容を確認すると
なお理解しやすいと思いますので、無理して覚えようとはせず、
わかるところから理解するようにしてください。
