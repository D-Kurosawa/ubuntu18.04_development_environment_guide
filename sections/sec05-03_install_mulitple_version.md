# 複数バージョンのインストール

コンパイラの新しいバージョンには、新しい言語のサポート、パフォーマンスの向上、拡張機能が含まれています。通常インストールしたコンパイラとは別のバージョンをインストールして複数バージョンのコンパイラを使い分けることができます。

## 1. gccの別バージョンインストール

執筆時点のUbuntu標準のgccのバージョンは`7.x.x`で、デフォルトのUbuntuリポジトリには`v5.x.x`～`8.x.x`までのいくつかのバージョンが登録されています。  \
デフォルトリポジトリには登録されてませんが、gccの最新バージョンは`9.2.0`です。

### 1-1. デフォルトリポジトリからのインストール

gcc 8.x.xはリポジトリに登録されているので、以下のコマンドでインストールできます。

```bash
# コピペを簡単に行うために、ターミナルの「$」は省略します

sudo apt install gcc-8 g++-8

# インストール後にはバージョンを表示して正しくインストールできているか否かを確認
gcc-8 --version
g++-8 --version
```

### 1-2. PPAからのインストール

PPAとはUbuntuユーザーのチームや個人がそれぞれ管理している非公式リポジトリで、Ubuntuの公式レポジトリからはダンロードできないソフトウェアや最新のバージョンのソフトウェアを手に入れることができます。より多くのソフトウェアを試すことができる反面、動作保証や安全性の保証はないので一定のリスクがあることを確認して下さい。

PPAの便利なところは、一度、信頼するソフトウェアの提供元として追加すると、公式のレポジトリからダウンロードしたソフトウェアと同様にアップデートがあるかどうか自動でチェックし、一括アップデートできることです。ソフトウェアのインストールや削除も公式のソフトと同じように、Ubuntuのソフトウェアセンターから一元管理できます。

gccの最新バージョンは[Toolchain test builds](https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test)からインストールします。

### 1-3. リポジトリの登録

`add-apt-repository`を`software-properties-common`で追加インストールした後に`ubuntu-toolchain-r/test`PPAリポジトリをシステムに登録します。

```bash
# コピペを簡単に行うために、ターミナルの「$」は省略します

sudo apt install software-properties-common
sudo add-apt-repository ppa:ubuntu-toolchain-r/test
```

### 1-4. 最新版のインストール

以下のコマンドでgccの最新版をインストールします。

```bash
# コピペを簡単に行うために、ターミナルの「$」は省略します

sudo apt install gcc-9 g++-9

# インストール後にはバージョンを表示して正しくインストールできているか否かを確認
gcc-9 --version
g++-9 --version
```
